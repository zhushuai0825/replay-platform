# 18. 部署策略

1. 开发环境
   - docker compose（现有方案）
   - 前后端/数据库/Redis/Celery 一键启动
2. 测试环境
   - 使用独立服务器或云主机
   - 配置环境变量、持久化存储、日志输出
3. 生产环境（示例方案）
   - K8s：后端 Deployment、前端 Nginx、Postgres StatefulSet、Redis StatefulSet、Celery Worker Deployment
   - 使用 Helm Chart 或 Kustomize 管理
4. CI/CD
   - 构建 Docker 镜像并推送到镜像仓库
   - 使用 GitHub Actions / GitLab CI + ArgoCD / Flux 做持续部署
5. 回滚策略
   - 保留上一版本镜像
   - 数据库迁移可使用 `alembic downgrade`
