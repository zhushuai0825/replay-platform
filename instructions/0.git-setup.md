# 0. Git 配置与远程仓库设置（两台电脑协作）

## 第一步：在电脑A（当前电脑）配置 Git

1. **配置 Git 用户信息**（如果还没配置）
   ```bash
   git config --global user.name "你的名字"
   git config --global user.email "你的邮箱"
   ```

2. **初始化本地仓库**（如果还没做）
   ```bash
   cd /Users/mac/Downloads/python/全链路/replay-platform
   git init
   ```

3. **创建远程仓库**（选择以下方式之一）

   **方式A：GitHub（推荐）**
   - 登录 https://github.com
   - 点击右上角 "+" → "New repository"
   - Repository name: `replay-platform`（或你喜欢的名字）
   - 选择 Public 或 Private
   - **不要**勾选 "Initialize this repository with a README"（因为本地已有代码）
   - 点击 "Create repository"
   - 复制仓库地址（HTTPS 或 SSH，例如：`https://github.com/你的用户名/replay-platform.git`）

   **方式B：GitLab**
   - 登录 https://gitlab.com
   - 点击 "New project" → "Create blank project"
   - 填写项目名称，选择可见性
   - 复制仓库地址

   **方式C：Gitee（国内）**
   - 登录 https://gitee.com
   - 点击右上角 "+" → "新建仓库"
   - 填写仓库名称，选择公开/私有
   - 复制仓库地址

4. **添加远程仓库并推送**
   ```bash
   # 添加远程仓库（将 YOUR_REPO_URL 替换为实际地址）
   git remote add origin YOUR_REPO_URL
   
   # 查看远程仓库配置
   git remote -v
   
   # 添加所有文件到暂存区
   git add .
   
   # 提交初始代码
   git commit -m "Initial commit: project structure and instructions"
   
   # 推送到远程仓库（首次推送）
   git push -u origin main
   # 如果默认分支是 master，则使用：git push -u origin master
   ```

## 第二步：在电脑B（另一台电脑）克隆仓库

1. **克隆远程仓库**
   ```bash
   # 进入你想存放项目的目录
   cd ~/Projects  # 或你喜欢的目录
   
   # 克隆仓库（将 YOUR_REPO_URL 替换为实际地址）
   git clone YOUR_REPO_URL
   
   # 进入项目目录
   cd replay-platform
   ```

2. **配置 Git 用户信息**（如果还没配置）
   ```bash
   git config --global user.name "你的名字"
   git config --global user.email "你的邮箱"
   ```

## 第三步：日常协作工作流程

### 电脑A 的工作流程：
```bash
# 1. 开始工作前，先拉取最新代码
git pull origin main

# 2. 创建新功能分支（可选，推荐）
git checkout -b feature/your-feature-name

# 3. 编写代码...

# 4. 提交更改
git add .
git commit -m "描述你做了什么"

# 5. 推送到远程
git push origin main  # 或 git push origin feature/your-feature-name
```

### 电脑B 的工作流程：
```bash
# 1. 开始工作前，先拉取最新代码
git pull origin main

# 2. 编写代码...

# 3. 提交更改
git add .
git commit -m "描述你做了什么"

# 4. 推送到远程
git push origin main
```

## 第四步：处理冲突（如果两台电脑同时修改了同一文件）

1. **拉取时遇到冲突**
   ```bash
   git pull origin main
   # 如果提示冲突，Git 会标记冲突文件
   ```

2. **解决冲突**
   - 打开冲突文件，查找 `<<<<<<<`、`=======`、`>>>>>>>` 标记
   - 手动编辑，保留需要的代码，删除冲突标记
   - 保存文件

3. **标记冲突已解决并提交**
   ```bash
   git add 冲突文件名
   git commit -m "Resolve merge conflict"
   git push origin main
   ```

## 常用 Git 命令速查

```bash
# 查看当前状态
git status

# 查看提交历史
git log --oneline

# 查看远程仓库信息
git remote -v

# 查看分支
git branch

# 切换分支
git checkout 分支名

# 创建并切换分支
git checkout -b 新分支名

# 丢弃本地未提交的更改（危险！）
git reset --hard HEAD

# 查看文件差异
git diff
```

## 注意事项

1. **每次开始工作前先 `git pull`**，确保代码是最新的
2. **提交前先 `git pull`**，避免推送时冲突
3. **提交信息要清晰**，方便后续查看历史
4. **不要提交敏感信息**（`.env` 文件已在 `.gitignore` 中）
5. **定期推送**，避免本地代码丢失

## 如果忘记推送，想查看远程最新代码

```bash
# 只查看，不合并
git fetch origin

# 查看远程分支的提交
git log origin/main

# 然后决定是否合并
git pull origin main
```

